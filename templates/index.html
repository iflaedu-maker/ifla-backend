{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IFLA - Learn languages. Live cultures.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    
    <!-- Elfsight Google Reviews | Untitled Google Reviews -->
    <script src="https://elfsightcdn.com/platform.js" async></script>
</head>
<body>
    <!-- Navigation -->
            <nav class="navbar">
                <div class="nav-left">
            <button class="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="logo">IFLA</div>
                </div>
                <div class="nav-center">
            <div class="nav-links">
                <a href="{% url 'index' %}" class="nav-link">Home</a>
                <a href="{% url 'languages' %}" class="nav-link">Courses / Languages</a>
                <a href="#" class="nav-link">About Us</a>
                <a href="#contact" class="nav-link">Contact</a>
            </div>
                </div>
        <div class="nav-right">
            {% if user.is_authenticated %}
                <div class="user-profile-menu">
                    <button class="profile-btn" id="profileBtn">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor">
                            <path d="M16 17v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <circle cx="10" cy="5" r="4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>{{ user.first_name|default:user.email|truncatewords:1 }}</span>
                        <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
                            <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <div class="profile-dropdown" id="profileDropdown">
                        <a href="{% url 'dashboard' %}" class="dropdown-item">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <rect x="2" y="2" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="9" y="2" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="2" y="9" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="9" y="9" width="5" height="5" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            Dashboard
                        </a>
                        <a href="#" class="dropdown-item" id="openEnrollmentModal">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M8 2v12M2 8h12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            Enroll in Course
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="{% url 'logout_redirect' %}" class="dropdown-item logout">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M6 14H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h3M11 11l3-3-3-3M14 8H6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Logout
                        </a>
                    </div>
                </div>
            {% else %}
                <a href="{% url 'auth' %}" class="nav-btn nav-btn-login">Login</a>
                <a href="{% url 'auth' %}?action=signup" class="nav-btn nav-btn-signup">Sign Up</a>
            {% endif %}
        </div>
            </nav>
            
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-background-gradient"></div>
        
        <div class="hero-grid-overlay"></div>
        
        <div class="hero-wrapper">
            <div class="hero-content-section">
                <div class="hero-label">
                    <svg class="label-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M8 1L10.5 6L16 7L12 11L13 16L8 13.5L3 16L4 11L0 7L5.5 6L8 1Z" fill="currentColor"/>
                    </svg>
                    <span>International Foreign Language Academy</span>
                </div>
                
                <h1 class="hero-heading">
                    <span class="hero-heading-line">Learn languages.</span>
                    <span class="hero-heading-line hero-heading-gradient">Live cultures.</span>
                </h1>
                
                <p class="hero-text">
                    Begin your journey today â€” from home, at less cost, with expert guidance.
                </p>
                
                <div class="hero-cta-group">
                    <a href="#" class="hero-btn hero-btn-primary">
                        <span>Explore Languages</span>
                        <svg class="btn-arrow" width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M4.167 10h11.666M10 4.167L15.833 10 10 15.833" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    <a href="#" class="hero-btn hero-btn-outline">
                        <svg class="btn-play" width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="1.5"/>
                            <path d="M8 6.5L13 10L8 13.5V6.5Z" fill="currentColor"/>
                        </svg>
                        <span>Register Now</span>
                    </a>
                </div>
                
                <div class="hero-metrics">
                    <div class="metric-item">
                        <div class="metric-value">15+</div>
                        <div class="metric-label">Languages</div>
                    </div>
                    <div class="metric-separator"></div>
                    <div class="metric-item">
                        <div class="metric-value">500+</div>
                        <div class="metric-label">Students</div>
                    </div>
                    <div class="metric-separator"></div>
                    <div class="metric-item">
                        <div class="metric-value">98%</div>
                        <div class="metric-label">Success Rate</div>
                    </div>
                </div>
            </div>
            
            <div class="hero-visual-section">
                <div class="visual-card">
                    <div class="visual-card-glow"></div>
                    <video class="visual-video" autoplay loop muted playsinline>
                        <source src="{% static 'media/88116-602317818_medium.mp4' %}" type="video/mp4">
                    </video>
                    <div class="visual-overlay"></div>
                </div>
                
                <div class="floating-indicator indicator-1">
                    <div class="indicator-dot"></div>
                    <div class="indicator-content">
                        <div class="indicator-title">Interactive</div>
                        <div class="indicator-subtitle">Real-time feedback</div>
                    </div>
                </div>
                
                <div class="floating-indicator indicator-2">
                    <div class="indicator-dot"></div>
                    <div class="indicator-content">
                        <div class="indicator-title">Personalized</div>
                        <div class="indicator-subtitle">Adaptive learning</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="stats-container">
            <div class="stats-header">
                <h2 class="stats-title">Learn Faster. Get Fluent. See Results.</h2>
                <p class="stats-subtitle">Ready to master a language that actually gets you somewhere?</p>
            </div>
            <div class="stats-cards">
                <div class="stat-card card-blue">
                    <div class="card-number">500+</div>
                <div class="card-content">
                        <h3 class="card-title">Happy Learners</h3>
                        <p class="card-description">Growing through engaging lessons</p>
                    </div>
                </div>
                <div class="stat-card card-video">
                    <video class="card-video-element" autoplay loop muted playsinline>
                        <source src="{% static 'media/BENTO1.mp4' %}" type="video/mp4">
                    </video>
                    <div class="card-video-overlay"></div>
                </div>
                <div class="stat-card card-green">
                    <div class="card-number">15+</div>
                    <div class="card-content">
                        <h3 class="card-title">Languages Offered</h3>
                        <p class="card-description">From beginner to advanced levels</p>
            </div>
                </div>
                <div class="stat-card card-image">
                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=600&h=600&fit=crop" alt="Students learning">
                    <div class="card-overlay">
                        <span class="card-badge">AUTHENTIC LEARNING</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Languages Scroller Section -->
    <section class="languages-section">
        <div class="languages-header">
            <h2 class="languages-title">Languages We Offer</h2>
            <p class="languages-subtitle">Choose from our diverse selection of languages</p>
        </div>
        
        <div class="languages-scroller">
            <div class="languages-track">
                <div class="language-item">
                    <span class="language-flag">ðŸ‡¯ðŸ‡µ</span>
                    <span class="language-name">Japanese</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡¨ðŸ‡³</span>
                    <span class="language-name">Chinese</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡®ðŸ‡±</span>
                    <span class="language-name">Hebrew</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡°ðŸ‡·</span>
                    <span class="language-name">Korean</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡·ðŸ‡º</span>
                    <span class="language-name">Russian</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡³ðŸ‡±</span>
                    <span class="language-name">Dutch</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡¸ðŸ‡ª</span>
                    <span class="language-name">Swedish</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡¸ðŸ‡¦</span>
                    <span class="language-name">Arabic</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡«ðŸ‡·</span>
                    <span class="language-name">French</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡ªðŸ‡¸</span>
                    <span class="language-name">Spanish</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡®ðŸ‡¹</span>
                    <span class="language-name">Italian</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡©ðŸ‡ª</span>
                    <span class="language-name">German</span>
                </div>
                
                <!-- Duplicate for seamless loop -->
                <div class="language-item">
                    <span class="language-flag">ðŸ‡¯ðŸ‡µ</span>
                    <span class="language-name">Japanese</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡¨ðŸ‡³</span>
                    <span class="language-name">Chinese</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡®ðŸ‡±</span>
                    <span class="language-name">Hebrew</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡°ðŸ‡·</span>
                    <span class="language-name">Korean</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡·ðŸ‡º</span>
                    <span class="language-name">Russian</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡³ðŸ‡±</span>
                    <span class="language-name">Dutch</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡¸ðŸ‡ª</span>
                    <span class="language-name">Swedish</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡¸ðŸ‡¦</span>
                    <span class="language-name">Arabic</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡«ðŸ‡·</span>
                    <span class="language-name">French</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡ªðŸ‡¸</span>
                    <span class="language-name">Spanish</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡®ðŸ‡¹</span>
                    <span class="language-name">Italian</span>
                </div>
                <div class="language-item">
                    <span class="language-flag">ðŸ‡©ðŸ‡ª</span>
                    <span class="language-name">German</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section class="reviews-section">
        <div class="reviews-container">
            <!-- Elfsight Google Reviews Widget -->
            <div class="elfsight-app-ad6dc947-01cb-4763-80dd-61a3ef96d046" data-elfsight-app-lazy></div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section" id="contact">
        <div class="contact-container">
            <div class="contact-header">
                <h2 class="contact-title">Get In Touch</h2>
                <p class="contact-subtitle">Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
            </div>
            
            <div class="contact-content">
                <div class="contact-info">
                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M3 8L10.89 13.26C11.2187 13.4793 11.6049 13.5963 12 13.5963C12.3951 13.5963 12.7813 13.4793 13.11 13.26L21 8M5 19H19C19.5304 19 20.0391 18.7893 20.4142 18.4142C20.7893 18.0391 21 17.5304 21 17V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H5C4.46957 5 3.96086 5.21071 3.58579 5.58579C3.21071 5.96086 3 6.46957 3 7V17C3 17.5304 3.21071 18.0391 3.58579 18.4142C3.96086 18.7893 4.46957 19 5 19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="contact-info-content">
                            <h3 class="contact-info-title">Email</h3>
                            <p class="contact-info-text">info@ifla.com</p>
                            <p class="contact-info-text">support@ifla.com</p>
                        </div>
                    </div>
                    
                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M3 5C3 3.89543 3.89543 3 5 3H8.27924C8.70967 3 9.09181 3.27543 9.22792 3.68377L10.7257 8.17721C10.8831 8.64932 10.6694 9.16531 10.2243 9.38787L7.96701 10.5165C9.06925 12.9612 11.0388 14.9308 13.4835 16.033L14.6121 13.7757C14.8347 13.3306 15.3507 13.1169 15.8228 13.2743L20.3162 14.7721C20.7246 14.9082 21 15.2903 21 15.7208V19C21 20.1046 20.1046 21 19 21H18C9.71573 21 3 14.2843 3 6V5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="contact-info-content">
                            <h3 class="contact-info-title">Phone</h3>
                            <p class="contact-info-text">+1 (555) 123-4567</p>
                            <p class="contact-info-text">+1 (555) 987-6543</p>
                        </div>
                    </div>
                    
                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="contact-info-content">
                            <h3 class="contact-info-title">Address</h3>
                            <p class="contact-info-text">123 Language Street</p>
                            <p class="contact-info-text">Cultural District, NY 10001</p>
                        </div>
                    </div>
                </div>
                
                <div class="contact-form-wrapper">
                    <form class="contact-form">
                        <div class="form-group">
                            <label for="name" class="form-label">Name</label>
                            <input type="text" id="name" name="name" class="form-input" placeholder="Your name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" id="email" name="email" class="form-input" placeholder="your.email@example.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="language" class="form-label">Language</label>
                            <select id="language" name="language" class="form-select" required>
                                <option value="">Select a language</option>
                                <option value="Japanese">Japanese</option>
                                <option value="Chinese">Chinese</option>
                                <option value="Hebrew">Hebrew</option>
                                <option value="Korean">Korean</option>
                                <option value="Russian">Russian</option>
                                <option value="Dutch">Dutch</option>
                                <option value="Swedish">Swedish</option>
                                <option value="Arabic">Arabic</option>
                                <option value="French">French</option>
                                <option value="Spanish">Spanish</option>
                                <option value="Italian">Italian</option>
                                <option value="German">German</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="message" class="form-label">Message</label>
                            <textarea id="message" name="message" class="form-textarea" rows="5" placeholder="Tell us more about your inquiry..." required></textarea>
                        </div>
                        
                        <button type="submit" class="form-submit-btn">
                            <span>Send Message</span>
                            <svg class="btn-arrow" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M4.167 10h11.666M10 4.167L15.833 10 10 15.833" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Section -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-column footer-about">
                    <h3 class="footer-logo">IFLA</h3>
                    <p class="footer-description">Learn languages. Live cultures. Begin your journey today â€” from home, at less cost, with expert guidance.</p>
                    <div class="footer-social">
                        <a href="#" class="social-link" aria-label="Facebook">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link" aria-label="Twitter">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M23 3A10.9 10.9 0 0 1 20.18 5.22A4.45 4.45 0 0 0 22.46 2A9 9 0 0 1 19.83 2.72A4.5 4.5 0 0 0 16.73 1A4.52 4.52 0 0 0 12.25 5.5A12.82 12.82 0 0 1 1.64 2.18A4.54 4.54 0 0 0 3 7.17A4.53 4.53 0 0 1 1.18 6.45A4.5 4.5 0 0 0 4.64 9.77A4.49 4.49 0 0 1 1 10.73A4.51 4.51 0 0 0 4.64 13.5A9.05 9.05 0 0 1 1 19.73A12.74 12.74 0 0 0 8.64 23A13 13 0 0 0 23 4.68Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link" aria-label="Instagram">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link" aria-label="LinkedIn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M16 8A6 6 0 0 1 22 14V21H18V14A2 2 0 0 0 14 12C13.4696 12 12.9609 12.2107 12.5858 12.5858C12.2107 12.9609 12 13.4696 12 14V21H8V8H12V9.5C12.5889 8.66131 13.4872 8.03298 14.5307 7.72736C15.5741 7.42174 16.7056 7.45619 17.7282 7.82434C18.7508 8.19249 19.6093 8.87563 20.1635 9.76473C20.7177 10.6538 20.9372 11.6948 20.7895 12.7127V21H16.7895V14A2 2 0 0 0 14.7895 12C14.2591 12 13.7504 12.2107 13.3753 12.5858C13.0002 12.9609 12.7895 13.4696 12.7895 14V21H8.78949V8H12.7895Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <circle cx="4" cy="8" r="2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h4 class="footer-heading">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Home</a></li>
                        <li><a href="#" class="footer-link">Courses / Languages</a></li>
                        <li><a href="#" class="footer-link">About Us</a></li>
                        <li><a href="#" class="footer-link">Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h4 class="footer-heading">Resources</h4>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Blog</a></li>
                        <li><a href="#" class="footer-link">FAQ</a></li>
                        <li><a href="#" class="footer-link">Support</a></li>
                        <li><a href="#" class="footer-link">Pricing</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h4 class="footer-heading">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Privacy Policy</a></li>
                        <li><a href="#" class="footer-link">Terms of Service</a></li>
                        <li><a href="#" class="footer-link">Cookie Policy</a></li>
                        <li><a href="#" class="footer-link">Refund Policy</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p class="footer-copyright">Â© 2024 IFLA. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    {% csrf_token %}
    <script src="{% static 'js/script.js' %}"></script>
    <script>
        // Profile dropdown toggle
        const profileBtn = document.getElementById('profileBtn');
        const profileDropdown = document.getElementById('profileDropdown');
        
        if (profileBtn && profileDropdown) {
            profileBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                profileBtn.classList.toggle('active');
                profileDropdown.classList.toggle('active');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target)) {
                    profileBtn.classList.remove('active');
                    profileDropdown.classList.remove('active');
                }
            });
            
            // Close dropdown on ESC key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    profileBtn.classList.remove('active');
                    profileDropdown.classList.remove('active');
                }
            });
        }

        // Enrollment Modal
        const enrollmentModalOverlay = document.getElementById('enrollmentModalOverlay');
        const enrollmentModalClose = document.getElementById('enrollmentModalClose');
        const openEnrollmentModalLink = document.getElementById('openEnrollmentModal');
        const enrollmentModalBody = document.getElementById('enrollmentModalBody');

        function openEnrollmentModal(languageId = null, languageName = null) {
            if (enrollmentModalOverlay) {
                enrollmentModalOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Show loading
                enrollmentModalBody.innerHTML = '<div class="enrollment-loading">Loading enrollment form...</div>';
                
                // Load form content
                let url = '{% url "enrollment-form" %}?modal=true';
                if (languageId) {
                    url += '&language_id=' + languageId;
                } else if (languageName) {
                    url += '&language=' + encodeURIComponent(languageName);
                }
                
                fetch(url, {
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest'
                    }
                })
                .then(response => response.text())
                .then(html => {
                    enrollmentModalBody.innerHTML = html;
                    // After loading, trigger language selection if it was pre-selected
                    const languageSelect = document.getElementById('language');
                    if (languageSelect && languageSelect.value) {
                        languageSelect.dispatchEvent(new Event('change'));
                    }
                })
                .catch(error => {
                    enrollmentModalBody.innerHTML = '<div class="enrollment-error-message">Error loading form. Please try again.</div>';
                    console.error('Error loading enrollment form:', error);
                });
            }
        }

        function closeEnrollmentModal() {
            if (enrollmentModalOverlay) {
                enrollmentModalOverlay.classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        if (openEnrollmentModalLink) {
            openEnrollmentModalLink.addEventListener('click', function(e) {
                e.preventDefault();
                openEnrollmentModal();
            });
        }

        if (enrollmentModalClose) {
            enrollmentModalClose.addEventListener('click', closeEnrollmentModal);
        }

        if (enrollmentModalOverlay) {
            enrollmentModalOverlay.addEventListener('click', function(e) {
                if (e.target === enrollmentModalOverlay) {
                    closeEnrollmentModal();
                }
            });
        }

        // Close modal on ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && enrollmentModalOverlay && enrollmentModalOverlay.classList.contains('active')) {
                closeEnrollmentModal();
            }
        });
    </script>

    <!-- Enrollment Modal -->
    <div class="enrollment-modal-overlay" id="enrollmentModalOverlay">
        <div class="enrollment-modal">
            <div class="enrollment-modal-header">
                <h2 class="enrollment-modal-title">Course Enrollment Application</h2>
                <button class="enrollment-modal-close" id="enrollmentModalClose">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="enrollment-modal-body" id="enrollmentModalBody">
                <div class="enrollment-loading">Loading enrollment form...</div>
            </div>
        </div>
    </div>
</body>
</html>




